---
title: "Business Creation in the UK"
author:
- Alfred Duncan
- Yannis Galanakis^[University of Kent; i.galanakis@kent.ac.uk]
- Miguel León-Ledesma
- Anthony Savagar
date: <span style="font-variant:small-caps;"> <small> `r format(Sys.time(), '%B,  %Y')`</small>
  </span>
output:
  html_document:
    theme: yeti
    highlight: default
    toc: yes
    toc_depth: 3
    toc_float: yes
---

<a href="https://your-url" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
load("ReportJan.RData")
library(tidyverse)
library(lubridate)
library(ggalt)
library(cowplot)
library(animation)
library(tidyverse)
library(patchwork)
library(sp)
library(raster)
library(rgeos)
library(mapproj)
library(emojifont)
library(plotly)
library(nord)
library(paletteer)
library(latex2exp)
load.fontawesome()
htmltools::tagList(rmarkdown::html_dependency_font_awesome())

Dec2020 <- subset(dffp1,
                     date <="2020-12-31"
                     & date>= "2020-12-01")
sumDec2020<- sum(Dec2020$ni)

Dec2019 <- subset(dffp12019,
                     date <="2019-12-31"
                     & date>= "2019-12-01")
sumDec2019<- sum(Dec2019$ni)

```

## <i class="far fa-lightbulb"></i> Highlights
1. Daily business creation increases by `r sprintf("%.1f %%", 100*((med_incorp_post_ldI-med_incorp_pre_ldI)/med_incorp_pre_ldI))` after the first lockdown. 
2. `r sprintf("%.1f %%", 100*((med_incorp_during_ldII-med_incorp_during_ldI)/med_incorp_during_ldI))` more companies incorporations in the second lockdown, relative to the first one.
4. `r sprintf("%1.0f", sumDec2020 - sumDec2019)` additional companies registered on December 2020 than in the equivalent period last year.
5. `r sprintf("%1.0f", mean_incorp_vaccine)`, on average, new daily registrations since the first Pfizer/BioNTech vaccine.
5. On average terms, retail and wholesale sectors outperform in December 2020 relative to the same period a year ago. Catering's recovery, occurred after the initial lockdown, worsens as certain areas enter the new Tier-4 scheme.

We analyse Companies House [“basic company data”](http://download.companieshouse.gov.uk/en_output.html) up to the December 31st, 2020 to understand the effect of COVID-19 policies on business creation, and hence, economic activity. We find that daily business creation increases by `r sprintf("%.1f %%", 100*((med_incorp_post_ldI-med_incorp_pre_ldI)/med_incorp_pre_ldI))` after the first, but before the second, lockdown. `r sprintf("%1.0f", sumDec2020 - sumDec2019)` additional companies registered on December 2020 than in the equivalent period last year. On average terms, retail and wholesale sectors outperform in December 2020 relative to the same period a year ago. Catering's earlier recovery worsens as certain areas enter the new Tier-4 scheme.  

## <i class="far fa-calendar-alt"></i> COVID-19 Key Dates in the UK

```{r echo=FALSE, fig.align='center'}

ggplotly(timeline_plot, tooltip = c("date", "Milestones"), width=850)

```

## Daily Aggregate Company Incorporations
The charts below show daily company incorporations in the UK for 2020 and their distribution. 


```{r echo=FALSE, fig.align='center', fig.height=6}
dailyagg <- ggplot(data = dffp1, aes(x = date, y = ni)) +
  geom_bar(stat = "identity") +
#  geom_line(stat = "identity") +
  geom_hline(aes(yintercept = med_incorp_pre_ldI, 
                 color = "Median (pre-lockdown I)")) +
  geom_hline(aes(yintercept = med_incorp, 
                 color = "Median (total)")) +
  geom_hline(aes(yintercept = med_incorp_post_ldI, 
                 color = "Median (post-lockdown I)")) +
  geom_hline(aes(yintercept = med_incorp_during_ldI, 
                 color = "Median (during lockdown I)")) +
  geom_hline(aes(yintercept = med_incorp_during_ldII, 
                 color = "Median (during lockdown II)")) +
  geom_hline(aes(yintercept = med_incorp_post_ldII, 
                 color = "Median (post-lockdown II)")) +
  geom_hline(aes(yintercept = med_incorp_during_tier4, 
                 color = "Median (during Tier-4 scheme)")) +
    scale_color_nord(palette = "aurora", discrete = TRUE, alpha = 3)+
  labs(title = "Daily Company Incorporations",
     x = "01-01-2020 to 31-12-2020",
     y = "Number of Incorporations",
     caption = "Source: Authors' calculations based on Companies House data; December 2020",
     color = NULL)+
 theme_minimal() +
          theme(axis.line = element_line(arrow = NULL),
              legend.position = 'top',
              panel.grid.major = element_blank(), 
              panel.grid.minor = element_blank(),
              panel.background = element_blank(),
              plot.margin = margin(0.1, 2.6, 0.1, 0.1, "cm"),
              plot.title = element_text(hjust = 0.5),
              plot.subtitle = element_text(hjust = 0.5))

ggplotly(dailyagg, width=850, height=500) %>%
  layout(annotations = 
                list(   x = 1, y = -0.1,
                        text = "Source: Authors' calculations", 
                        showarrow = F, xref='paper', yref='paper', 
                        xanchor='right', yanchor='auto', xshift = 0, yshift = 0,
                        font=list(size=10, color="gray20"))
 )


density<-ggplot(dffp1, aes(ni)) +
  geom_density(alpha = 0.4) +
    labs(title = "Distribution of Daily Company Incorporations",
     x = "Number of daily new registrations",
     y = "Density",
     caption = "Source: Authors' calculations based on Companies House data; December 2020",
     color = NULL)+
 theme_minimal() +
          theme(axis.line = element_line(arrow = NULL),
              legend.position = 'top',
              panel.grid.major = element_blank(), 
              panel.grid.minor = element_blank(),
              panel.background = element_blank(),
              plot.margin = margin(0.1, 2.6, 0.1, 0.1, "cm"),
              plot.title = element_text(hjust = 0.5),
              plot.subtitle = element_text(hjust = 0.5))+
  geom_vline(aes(xintercept = med_incorp, 
                 color = "Median (total)"), linetype = "dashed")
ggplotly(density, width=850, height=500) %>%
  layout(annotations = 
                list(   x = 1, y = -0.1,
                        text = "Source: Authors' calculations", 
                        showarrow = F, xref='paper', yref='paper', 
                        xanchor='right', yanchor='auto', xshift = 0, yshift = 0,
                        font=list(size=10, color="gray20"))
 )

```

The following table summarises the median and the mean of daily new registrations in different periods. The sharp decline of new incorporations, observed during the first lockdown implementation, recovers. The shock of the initial lockdown anticipates over time. Relative to the period before and during the lockdown, registrations increase by `r sprintf("%.1f %%", 100*((med_incorp_post_ldI-med_incorp_pre_ldI)/med_incorp_pre_ldI))` and `r sprintf("%.1f %%", 100*((med_incorp_post_ldI-med_incorp_during_ldI)/med_incorp_during_ldI))`, respectively. 

We notice a moderate shock during the second lockdown. The daily median goes from `r sprintf("%1.0f", med_incorp_during_ldII)` incorporations during lockdown-II is implemented to `r sprintf("%1.0f", med_incorp_post_ldII)` incorporations per day after lockdown-II is implemented, but before lockdown-III. This is a fall in business creation of `r sprintf("%.1f %%", 100*((med_incorp_post_ldII-med_incorp_during_ldI)/med_incorp_during_ldII))`. 

London, South East and East of England move to tier 4 on December 20th, under the the [new Tier scheme](https://www.bbc.co.uk/news/uk-55379220). The data for the latter period concern the last 12 days of December. Daily median business creation shrinks by `r sprintf("%.1f %%", abs( 100*((med_incorp_during_ldIII-med_incorp_during_ldI)/med_incorp_during_ldI)))` and `r sprintf("%.1f %%", abs(100*((med_incorp_during_tier4-med_incorp_during_ldII)/med_incorp_during_ldII)))` relative to the period during the first and second lockdown, respectively. Most of the business creation occurs the last week of 2020 and concerns the manufacturing sector.   


```{r echo=FALSE, message = FALSE}
library(knitr)
library(kableExtra)
library(downloadthis)

avg %>%
  kbl(caption = "Median and Mean of new daily companies Incorporations in 2020", align = "c", escape = F) %>%
  add_header_above(c(" ", "","Lockdown I" = 3, "Lockdown II" = 2, "New Tier-4 Scheme" = 1, "")) %>%
  kable_styling() %>%
  kable_paper("hover", full_width = F) %>%
  footnote(general_title ="", "Source: Authors' calculations based on Companies House [data](http://download.companieshouse.gov.uk/en_output.html)", footnote_as_chunk = T) 
 

```

### Total Effect

In total, a persistent recovery in business creation has been seen since June. Lockdown-I ended on the 4th of July, when non-essential businesses opened again. Forward that period up until the end of 2020, company registrations exceed their 2019 levels. Over 2020, on average, `r sprintf("%1.0f",med_incorp)` daily new companies register. The peak of this ratio is noticed during the week 19-25.08.2020.

Looking at the distribution of registrations, the majority or new registrations occurs after the end of the lockdown-I. In fact, similar performance is observed between the end of the first and during the second lockdown (July - early December). This may be, mostly, attributed to the less restrictions attached to the second lockdown, since the duration of these two periods differs. `r sprintf("%.1f %%", 100*((med_incorp_during_ldII-med_incorp_during_ldI)/med_incorp_during_ldI))` more companies incorporations noted during the second lockdown than the first one. 

```{r echo=FALSE, fig.align='center', fig.cap="<small> Note: Company registrations per week in 2020 (relative to 2019 registrations for the same week) = 1 </small>", fig.width=8.5, message=FALSE}
p2<- ggplot(data = Week2020, aes(x = week, y = ratio)) +
  geom_line() +
   scale_x_continuous(limits = c(0,55), breaks = seq(from = 0, to = 53, by = 5)) +
    scale_color_nord(palette = "aurora", discrete = TRUE, alpha = 3)+
  geom_hline(aes(yintercept = 1), color="gray") +
  labs(title = "Company registrations Rate",
       subtitle = "(Same week of reference in 2019)",
     x = "Weeks during 01-01-2020 to 31-12-2020",
     y = "Ratio = Registrations 2020 / Registrations 2019",
     caption = "Source: Authors' calculations based on Companies House data; December 2020",
     color = NULL)+
 theme_minimal() +
          theme(axis.line = element_line(arrow = NULL, color = "black"),
              legend.position = 'top',
              panel.grid.major = element_blank(), 
              panel.grid.minor = element_blank(),
              panel.background = element_blank(),
              plot.margin = margin(0.1, 2.6, 0.1, 0.1, "cm"),
              plot.title = element_text(hjust = 0.5),
              plot.subtitle = element_text(hjust = 0.5))+
    geom_vline(xintercept = c(12,27,45, 49, 51), 
                 linetype = "dotted") +
    annotate("text", x = 20, y = 5.6, size = 3, color = "gray20",
           label = glue::glue("Lockdown I")) +
    annotate("text", x = 47, y = 5.6, size = 2, color = "gray20",
           label = glue::glue("Lockdown II")) +
    annotate("text", x = 54, y = 5.6, size = 2.5, color = "gray20",
           label = glue::glue("Tier-4 scheme"))
ggplotly(p2) %>% 
 layout(title = list(text = paste0('Company registrations Rate',
                                    '<br>',
                                    '<sup>',
                                    '(Same week of reference in 2019)',
                                    '</sup>')),
   annotations = 
                list(   x = 1, y = -0.1,
                        text = "Source: Authors' calculations", 
                        showarrow = F, xref='paper', yref='paper', 
                        xanchor='right', yanchor='auto', xshift = 0, yshift = 0,
                        font=list(size=10, color="gray20"))
 )

  
```

## <i class="fas fa-map-marker-alt"></i> Regional Analysis
The following map^[Daily maps with all the new established firms, by full postcode, are available upon request in .gif format.] shows the average percentage change of new registrations occurred in November, relative to the same week in November 2019. To see the values, hoover your mouse over each bubble.

```{r echo = FALSE, fig.width=8.5, fig.height=6, fig.align='center', message=FALSE}
ggplotly(aveDecmap1, tooltip = c("averageDecember", "Area.covered")) %>%
  layout( title = list(text = paste0('Average change of New Incorporations',
                                    '<br>',
                                    '<sup>',
                                    '(Change measured between December 2020 and its equivalent period on 2019)',
                                    '</sup>')),
    annotations = 
                list(   x = 1, y = -0.1,
                        text = "Source: Authors' calculations", 
                        showarrow = F, xref='paper', yref='paper', 
                        xanchor='right', yanchor='auto', xshift = 0, yshift = 0,
                        font=list(size=10, color="gray20"))
    
  )

```

A similar illustration follows in a form of a heatmap to associate areas and their percentage change between December 2020 and 2019.
```{r echo = FALSE, fig.width=8.5, fig.height=6, fig.align='center', message=FALSE}

ggplotly(aveDecmap2) %>%
  layout( title = list(text = paste0('Average change of New Incorporations',
                                    '<br>',
                                    '<sup>',
                                    '(Change measured between December 2020 and its equivalent period on 2019)',
                                    '</sup>')),
    annotations = 
                list(   x = 1, y = -0.1,
                        text = "Source: Authors' calculations", 
                        showarrow = F, xref='paper', yref='paper', 
                        xanchor='right', yanchor='auto', xshift = 0, yshift = 0,
                        font=list(size=10, color="gray20"))
    
  )

``` 

The following graph aggregates the business creation by country. In England, we exclude London, which we see separately. Northern Ireland, Scotland and Wales experience the largest declines in new business registrations relative to their 2019 levels. Following lockdown-I, an uneven recovery is observed. Since the end of June, Scotland and Wales maintain a positive business creation relative to the equivalent period of 2019. Northern Ireland's recovery commences the same period. It faces, though, several fluctuations until the end of lockdown-II. In London, firm creation escapes the initial lockdown shock quickly and catches up 2019 levels since April. The remaining English regions perform better than the three countries under devolved administration; their recovery occurs faster.  


```{r echo = FALSE, fig.align='center', fig.height=6, fig.width=8.5, fig.cap="<small> Note: Cumulative company registrations, by country (% difference from 2019 values). England excludes London. </small>"}


ggplotly(areachange)%>%
  layout( title = list(text = paste0('Average change of New Incorporations',
                                    '<br>',
                                    '<sup>',
                                    '(Change measured between December 2020 and its equivalent period on 2019)',
                                    '</sup>')),
    annotations = 
                list(   x = 1, y = -0.1,
                        text = "Source: Authors' calculations", 
                        showarrow = F, xref='paper', yref='paper', 
                        xanchor='right', yanchor='auto', xshift = 0, yshift = 0,
                        font=list(size=10, color="gray20"))
    
  )

```


## <i class="fas fa-industry"></i> Sectoral Change

The following graph illustrates the cumulative company registrations in 2020 by industrial sector relative to 2019 values. For the analysis, we use the 2-digit SIC level and convert it to sectors, following the [ONS classification](https://www.ons.gov.uk/methodology/classificationsandstandards/ukstandardindustrialclassificationofeconomicactivities/uksic2007).

A variation among different industries exists. In the post-lockdown-I period, all industries recover to their 2019 equivalent levels. On average terms, retail and wholesale sectors outperform in December 2020 relative to the same period a year ago. Catering's recovery, occurred after the initial lockdown, worsens as certain areas in the UK enter the new Tier-4 scheme.

```{r echo = FALSE, fig.align='center', fig.width=8.5, fig.cap="<small> Note: Cumulative company registrations by sector (% difference from 2019 values) </small>"}

industries <- ggplot(data = regWeek, aes(x = week, y = change, group = Section.name)) +
  geom_line(aes(color = Section.name)) +
  scale_x_continuous(limits = c(0,55), breaks = seq(from = 0, to = 53, by = 5)) + #put limit from 12 if you want to show from the start of the 1st lockdown
  scale_y_continuous(limits = c(-100, 4000), breaks = seq(from = -100, to = 4000, by = 500))+
  scale_color_nord(palette = "aurora", discrete = TRUE, alpha = 3)+
  labs(title = "Change in new firm registrations, by sector",
       subtitle = "(relative to the 2019 values, in the same week)",
     x = "Weeks between 23-03-2020 - 31-12-2020",
     y = "% change of new firm registrations",
     caption = "Source: Authors' calculations based on Companies House data; December 2020",
     color = NULL)+
  geom_hline(yintercept = c(0), 
                 color="grey", alpha = 0.3) +
 theme_minimal() +
          theme(axis.line = element_line(arrow = NULL, colour = "black"),
              legend.position = 'top',
              legend.text=element_text(size=6),
              panel.grid.major = element_blank(), 
              panel.grid.minor = element_blank(),
              panel.background = element_blank(), 
              plot.margin = margin(0.1, 2.6, 0.1, 0.1, "cm"),
              plot.title = element_text(hjust = 0.5),
              plot.subtitle = element_text(hjust = 0.5))+
  geom_vline(xintercept = c(12,27,45, 49, 51), 
                 linetype = "dotted") +
    annotate("text", x = 20, y = 3990, size = 3, color = "gray20",
           label = glue::glue("Lockdown I")) +
    annotate("text", x = 47, y = 3990, size = 2, color = "gray20",
           label = glue::glue("Lockdown II")) +
    annotate("text", x = 54, y = 3990, size = 2.5, color = "gray20",
           label = glue::glue("Tier-4 scheme"))

ggplotly(industries, tooltip = c("Section.name", "change", "week")) %>%
  layout( title = list(text = paste0('Change in new firm registrations, by sector',
                                    '<br>',
                                    '<sup>',
                                    '(relative to the 2019 values, in the same week)',
                                    '</sup>')),
          legend = list(orientation = "h", x = 0.4, y = -0.7),
    annotations = 
                list(   x = 1, y = -0.3,
                        text = "Source: Authors' calculations", 
                        showarrow = F, xref='paper', yref='paper', 
                        xanchor='right', yanchor='auto', xshift = 0, yshift = 0,
                        font=list(size=10, color="gray20"))
    
  )


```

## <i class="fas fa-database"></i> Data
The data are constructed from the UK business register, available from Companies House ([data](http://download.companieshouse.gov.uk/en_output.html) here in .csv format). The register records every company in the UK with its birth date, post code and industry. This makes it possible to measure daily company registrations.

The main advantage of these data is that they are timely (almost real-time nature) and cover the entire UK. A disadvantage is that it is not possible to distinguish between firms created for accountancy purposes and firms that will employ workers.

From the analysis, we exclude firms with missing values on the incorporation date, Post Code and/or industry of main activity.

## <i class="fas fa-file-signature"></i> Earlier Reports
- May 2020
  - [Report 1](https://blogs.kent.ac.uk/economics/files/2020/05/Missing-Firm-Creation-in-The-UK-During-The-Covid.pdf) and [<i class="fab fa-github"></i>](https://asavagar.github.io/companies_house_data_analysis/)
- June 2020
  - [Report 2](https://blogs.kent.ac.uk/economics/files/2020/07/MissingFirmCreationUK_JuneData.pdf)
  - [Economics Observatory](https://www.coronavirusandtheeconomy.com/question/how-coronavirus-affecting-creation-new-firms-and-new-jobs)
- July 2020
  - [National Institute Economic Review](https://www.niesr.ac.uk/publications/firm-creation-uk-during-lockdown)

## <i class="fas fa-users"></i> Project Team

- [Alfred Duncan](https://www.alfredduncan.co.uk/)
- [Yannis Galanakis](https://ygalanak.github.io/)
- [Miguel León-Ledesma](https://sites.google.com/site/miguelleonledesmaspernonalsite)
- [Anthony Savagar](https://www.asavagar.com/home)


``` {r echo=FALSE}
library(downloadthis)
## Link in Github repo
download_link(
  link = "mylink.pdf",
  button_label = "Download report as .pdf",
  button_type = "default",
  has_icon = TRUE,
  icon = "fa fa-save",
  self_contained = F
)
```
